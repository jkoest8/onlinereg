<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Library Card Registration</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
        }
        .container {
            background-color: #e0f7fa;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid #b2ebf2;
            border-radius: 8px;
        }
        .divider {
            border-bottom: 1px solid #00796b;
            margin: 20px 0;
        }
        .confidentiality, .terms {
            font-size: 0.8em;
        }
        .terms a {
            color: #00796b;
            text-decoration: none;
        }
        label, select, input[type="text"], input[type="date"] {
            display: block;
            margin-bottom: 10px;
            width: 100%;
        }
        fieldset {
            border: none;
            padding: 0;
            padding-bottom: 10px;
            position: relative;
        }
        legend {
            font-size: 1.2em;
            font-weight: bold;
            padding-bottom: 10px;
        }
        .preferredName {
            display: none;
        }
    </style>
</head>
<body>
    <header style="background-color: #009688; color: #ffffff; text-align: center; padding: 10px;">
        <h1>Student Library Card Registration</h1>
    </header>

    <div class="container">
        <form id="registrationForm" onsubmit="submitForm(event)">
            <fieldset>
                <legend>Student Details</legend>
                <label>First Name:* <input required type="text" name="firstName"></label>
                <label>Middle Name: <input type="text" name="middleName"></label>
                <label>Last Name:* <input required type="text" name="lastName"></label>
                <label>Is this your dead name?
                    <input type="radio" id="yes" name="deadname" value="yes" onclick="togglePreferredName(true)"> Yes
                    <input type="radio" id="no" name="deadname" value="no" onclick="togglePreferredName(false)" checked> No
                </label>
                <div id="preferredNameSection" class="preferredName">
                    <p>Please indicate the name that should appear on your account and be used for email/text notifications.</p>
                    <label>First Name: <input type="text" name="preferredFirstName"></label>
                    <label>Middle Name: <input type="text" name="preferredMiddleName"></label>
                    <label>Last Name: <input type="text" name="preferredLastName"></label>
                    <label><input type="checkbox" name="useIdNameForNotifications"> Please check this box if you wish to have your ID name used for print and phone notifications.</label>
                </div>
                <label>Date of Birth:* <input required type="date" name="dateOfBirth"></label>
            </fieldset>

            <div class="divider"></div>

            <fieldset>
                <legend>Parent Details</legend>
                <label>Parent First Name:* <input required type="text" name="parentFirstName"></label>
                <label>Parent Middle Name: <input type="text" name="parentMiddleName"></label>
                <label>Parent Last Name:* <input required type="text" name="parentLastName"></label>
            </fieldset>

            <div class="divider"></div>

            <fieldset>
                <legend>Address</legend>
                <label>Street:* <input required type="text" name="street"></label>
                <label>City:* <input required type="text" name="city"></label>
                <label>State:* <input required type="text" name="state"></label>
                <label>Zip Code:* <input required type="text" name="zip"></label>
            </fieldset>

            <div class="divider"></div>

            <fieldset>
                <legend>Teacher and School Information</legend>
                <label>Teacher Name:* <input required type="text" name="teacherName"></label>
                <label>School:* <input required type="text" name="school"></label>
                <label>Grade Level:* <input required type="text" name="gradeLevel"></label>
            </fieldset>

            <div class="divider"></div>

            <fieldset>
                <legend>Contact Method</legend>
                <label>Contact via:
                    <select required name="contactMethod" id="contactMethod" onchange="changeContactMethodPlaceholder()">
                        <option value="email">Email</option>
                        <option value="text">Text Message</option>
                    </select>
                </label>
                <label id="contactMethodLabel">Email:* <input required type="text" name="contactDetail" id="contactDetail" placeholder="Enter your email"></label>
            </fieldset>

            <div class="divider"></div>

            <fieldset>
                <legend>Card Pickup Method</legend>
                <label><input required type="radio" name="pickupMethod" value="classVisit"> This card will be picked up during a class visit.</label>
                <label><input required type="radio" name="pickupMethod" value="mail"> I need this card mailed to me.</label>
            </fieldset>

            <p class="confidentiality">This information is confidential and will only be used for library purposes.</p>
            <p class="terms">By submitting this form, you agree to the <a href="https://www.rplmn.org/services/library-card-borrowing/privacy" target="_blank">libraryâ€™s terms and conditions</a>.</p>

            <button type="submit">Submit</button>
        </form>
    </div>

    <script>
        function togglePreferredName(isVisible) {
            document.getElementById('preferredNameSection').style.display = isVisible ? 'block' : 'none';
        }

        function changeContactMethodPlaceholder() {
            let method = document.getElementById('contactMethod').value;
            let detail = document.getElementById('contactDetail');
            let label = document.getElementById('contactMethodLabel');

            if (method === 'email') {
                label.innerHTML = "Email:* <input required type='text' name='contactDetail' id='contactDetail' placeholder='Enter your email'>";
            } else {
                label.innerHTML = "Phone Number:* <input required type='text' name='contactDetail' id='contactDetail' placeholder='Enter your phone number'>";
            }
        }

        function submitForm(e) {
            e.preventDefault();
            // You can process the form data and update the "database" or take other actions as needed.
        }
    </script>
</body>
</html>
